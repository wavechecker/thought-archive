---
/**
 * Props:
 * - title: heading above the stats block
 * - stats: array of { label: string; value: string | number }
 * - variant: "neutral" | "info" | "success" | "warning" | "danger"
 */
const { stats = [], title = "Key Figures", variant = "neutral" } = Astro.props;

const colors = {
  neutral: "bg-gray-50 border-gray-300 text-gray-800",
  info: "bg-blue-50 border-blue-300 text-blue-800",
  success: "bg-green-50 border-green-300 text-green-800",
  warning: "bg-yellow-50 border-yellow-300 text-yellow-800",
  danger: "bg-red-50 border-red-300 text-red-800",
};
---

<section
  class={`my-6 border-l-4 rounded-xl p-4 ${colors[variant]} shadow-sm`}
  role="region"
  aria-labelledby={title.replace(/\s+/g, "-").toLowerCase()}
>
  <h3
    id={title.replace(/\s+/g, "-").toLowerCase()}
    class="font-semibold text-lg mb-3"
  >
    {title}
  </h3>

  {stats.length > 0 && (
    <ul class="grid gap-2 mb-2">
      {stats.map(({ label, value }) => (
        <li class="flex justify-between text-sm sm:text-base">
          <span class="font-medium">{label}</span>
          <span class="font-semibold">{value}</span>
        </li>
      ))}
    </ul>
  )}

  <slot />
</section>

