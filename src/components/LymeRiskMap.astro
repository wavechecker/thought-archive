---
const {
  title = "Global Lyme Disease Risk",
  caption = "",
  sourceName = "CDC, ECDC and national surveillance reports",
  sourceUrl = "https://www.cdc.gov/lyme",
} = Astro.props;
---

<div class="border border-slate-200 bg-slate-50 rounded-2xl p-4 md:p-5 shadow-sm space-y-3">
  <div class="flex items-start justify-between gap-3">
    <h3 class="font-semibold text-slate-900 text-sm md:text-base">
      {title}
    </h3>
    <span class="inline-flex items-center rounded-full bg-emerald-100 px-2 py-0.5 text-[11px] font-medium text-emerald-700">
      Tick-borne risk
    </span>
  </div>

  <div class="relative w-full overflow-hidden rounded-xl bg-white border border-slate-200">
    <svg
      viewBox="0 0 800 380"
      class="w-full h-auto block"
      aria-label="Stylised world map highlighting regions with higher Lyme disease risk"
      role="img"
    >
      <rect x="0" y="0" width="800" height="380" class="fill-slate-50" />

      <!-- Very simplified continents as abstract shapes -->
      <path d="M90 80 C 150 40, 260 40, 320 90 C 360 120, 360 180, 300 210 C 240 240, 170 230, 120 200 C 80 180, 70 140, 90 80 Z" class="fill-slate-200" />
      <path d="M340 70 C 410 40, 520 40, 590 80 C 640 110, 650 150, 620 180 C 580 220, 520 230, 470 210 C 420 190, 360 160, 340 120 Z" class="fill-slate-200" />
      <path d="M560 190 C 620 180, 700 190, 740 220 C 770 250, 770 290, 730 305 C 680 325, 620 320, 590 295 C 560 270, 540 235, 560 190 Z" class="fill-slate-200" />

      <!-- Higher-risk regions (North America, Europe, parts of Asia) -->
      <rect x="150" y="90" width="140" height="80" rx="8" class="fill-emerald-300/70" />
      <rect x="370" y="80" width="170" height="70" rx="8" class="fill-emerald-300/70" />
      <rect x="520" y="95" width="120" height="60" rx="8" class="fill-emerald-300/50" />

      <!-- Labels -->
      <text x="160" y="110" class="fill-slate-900 text-[10px] font-semibold">Northeastern &amp; Upper Midwestern USA</text>
      <text x="380" y="100" class="fill-slate-900 text-[10px] font-semibold">Central &amp; Northern Europe</text>
      <text x="530" y="115" class="fill-slate-900 text-[10px] font-semibold">Baltic &amp; parts of Russia</text>

      <!-- Legend -->
      <rect x="30" y="300" width="12" height="12" rx="2" class="fill-emerald-300" />
      <text x="50" y="310" class="fill-slate-900 text-[11px]">Higher documented Lyme incidence</text>
      <rect x="30" y="320" width="12" height="12" rx="2" class="fill-slate-200" />
      <text x="50" y="330" class="fill-slate-900 text-[11px]">Lower or uncertain incidence</text>
    </svg>
  </div>

  {caption && (
    <p class="text-xs text-slate-700 leading-snug">
      {caption}
    </p>
  )}

  <p class="text-[11px] text-slate-500">
    Map is schematic and for educational use only. For regional risk and current surveillance data, see{" "}
    <a href={sourceUrl} class="underline underline-offset-2 decoration-slate-400 hover:decoration-slate-700" target="_blank" rel="noreferrer">
      {sourceName}
    </a>.
  </p>
</div>
