---
type Variant = "neutral" | "caution" | "danger" | "good";

export interface Props {
  title?: string;
  variant?: Variant;
  bullets?: string[];
  footer?: string;
}

const {
  title = "AI safety note",
  variant = "caution",
  bullets = [
    "This is a tool, not a clinician.",
    "Use it to generate questions and possibilities — not final decisions.",
    "If symptoms are severe, sudden, or worsening, seek real medical care.",
  ],
  footer = "If you think this may be an emergency, call your local emergency number now.",
} = Astro.props;

const stylesByVariant: Record<Variant, { border: string; bg: string; label: string }> = {
  neutral: { border: "border-slate-300", bg: "bg-slate-50", label: "Note" },
  caution: { border: "border-amber-400", bg: "bg-amber-50", label: "Caution" },
  danger: { border: "border-red-400", bg: "bg-red-50", label: "High risk" },
  good: { border: "border-emerald-400", bg: "bg-emerald-50", label: "Good practice" },
};

const v = stylesByVariant[variant];
---

<aside class={`rounded-2xl border ${v.border} ${v.bg} p-4 sm:p-5 my-6 shadow-sm`}>
  <div class="flex items-start justify-between gap-3">
    <div>
      <div class="text-xs font-semibold uppercase tracking-wide text-slate-600">
        {v.label}
      </div>
      <h3 class="mt-1 text-base sm:text-lg font-semibold text-slate-900">
        {title}
      </h3>
    </div>
  </div>

  {bullets?.length ? (
    <ul class="mt-3 space-y-2 text-sm sm:text-[0.95rem] text-slate-800">
      {bullets.map((b) => <li class="leading-relaxed">• {b}</li>)}
    </ul>
  ) : null}

  {footer ? (
    <p class="mt-4 text-sm text-slate-700 leading-relaxed">
      <strong class="text-slate-900">Bottom line:</strong> {footer}
    </p>
  ) : null}
</aside>
