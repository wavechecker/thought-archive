---
// ...
const posts = (await getCollection("posts"))
  .sort((a, b) => (a.data.publishDate < b.data.publishDate ? 1 : -1));
---

<Layout title="Posts" description="Essays and commentary.">
  <h1>Posts</h1>
  <ul style="list-style:none; padding:0; margin:0;">
    {posts.map((post) => (
      <li style="border-bottom:1px solid #e5e7eb; padding:0 0 1rem; margin:0 0 1rem;">
        <h2 style="margin:0 0 .25rem;">
          <a href={`/posts/${post.slug}/`}>{post.data.title}</a>   {/* ✅ post.slug */}
        </h2>
        <p class="muted" style="margin:.25rem 0 .75rem;">
          {isValidDate(post.data.publishDate) ? fmt(post.data.publishDate) : post.data.publishDate}
          {post.data.updatedDate && ` • Updated ${fmt(post.data.updatedDate)}`}
        </p>
        <p style="margin:0;">{post.data.description}</p>
      </li>
    ))}
  </ul>
</Layout>
