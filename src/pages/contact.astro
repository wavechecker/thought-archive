---
import Layout from "@/layouts/Layout.astro";

const frontmatter = {
  title: "Contact — Patient Guide",
  description: "Get in touch with the Patient Guide team.",
};
---

<Layout {frontmatter}>
  <section class="py-10">
    <h1 class="text-4xl font-bold mb-3">Contact</h1>
    <p class="text-lg text-gray-700">
      Prefer email? Write to
      <a href="mailto:hello@patientguide.io" class="text-blue-600 underline">hello@patientguide.io</a>.
    </p>

    <!-- Netlify Forms:
         - method="POST" + data-netlify="true"
         - hidden input name="form-name"
         - honeypot: netlify-honeypot="bot-field" + hidden input
         - reCAPTCHA: <div data-netlify-recaptcha="true"></div>
         - action: success redirect page
    -->
    <form
      name="contact"
      method="POST"
      action="/contact/success/"
      data-netlify="true"
      netlify-honeypot="bot-field"
      class="mt-6 space-y-4 bg-white p-6 rounded-2xl shadow"
    >
      <!-- Required for Netlify to recognize the form -->
      <input type="hidden" name="form-name" value="contact" />

      <!-- Honeypot (hidden to humans; bots fill it) -->
      <p class="hidden">
        <label>Don’t fill this out if you’re human: <input name="bot-field" /></label>
      </p>

      <div>
        <label class="block text-sm font-medium text-gray-700" for="name">Name</label>
        <input
          id="name"
          name="name"
          type="text"
          required
          class="mt-1 block w-full border rounded-md p-2"
          autocomplete="name"
        />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700" for="email">Email</label>
        <input
          id="email"
          name="email"
          type="email"
          required
          class="mt-1 block w-full border rounded-md p-2"
          autocomplete="email"
        />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700" for="message">Your message</label>
        <textarea
          id="message"
          name="message"
          rows="6"
          required
          class="mt-1 block w-full border rounded-md p-2"
        ></textarea>
      </div>

      <!-- reCAPTCHA (enable in Netlify UI → Forms → contact → Settings) -->
      <div data-netlify-recaptcha="true"></div>

      <button
        type="submit"
        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
      >
        Send
      </button>

      <p class="text-xs text-gray-500">
        Protected by a honeypot and CAPTCHA. We’ll never share your details.
      </p>
    </form>
  </section>
</Layout>
