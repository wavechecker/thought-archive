  <!-- Latest Posts (moved above guides) -->
  <section class="mt-8">
    <h2 class="text-2xl font-semibold mb-4">Latest posts</h2>
    {posts.length === 0 ? (
      <p>No posts yet.</p>
    ) : (
      <ul class="divide-y divide-gray-200 bg-white rounded-2xl shadow">
        {posts.map((p) => {
          const href = `/posts/${p.slug}`;
          const title = p.data?.title ?? "(Untitled)";
          const desc = p.data?.description ?? "";
          const rawDate = p.data?.updatedDate ?? p.data?.publishDate;
          const date = isValidDate(rawDate) ? fmt(rawDate) : null;
          return (
            <li class="p-5">
              <a href={href} class="text-lg font-medium hover:underline">{title}</a>
              {date && <span class="ml-2 text-xs text-gray-500 align-middle">{date}</span>}
              {desc && <p class="text-sm text-gray-600 mt-1">{desc}</p>}
            </li>
          );
        })}
      </ul>
    )}

    <!-- Browse all posts CTA -->
    <p class="mt-6">
      <a href="/posts/" class="inline-block px-3 py-2 rounded-lg border hover:bg-gray-50">
        Browse all posts →
      </a>
    </p>
  </section>

  <!-- Latest Guides -->
  <section class="mt-12">
    <h2 class="text-2xl font-semibold mb-4">Latest Guides</h2>

    {all.length === 0 ? (
      <p>No guides yet.</p>
    ) : (
      <ul class="divide-y divide-gray-200 bg-white rounded-2xl shadow">
        {all.slice(0, 12).map((e) => {
          const href = `/guides/${e.slug}`;
          const title = e.data?.title ?? "(Untitled)";
          const desc = e.data?.description ?? "";
          const cat = e.data?.category ?? "";

          const rawGuideDate = e.data?.updatedDate ?? e.data?.publishDate;
          const dateLabel = e.data?.updatedDate ? "Updated" : "Published";
          const prettyGuideDate = isValidDate(rawGuideDate) ? fmt(rawGuideDate) : null;

          return (
            <li class="p-5">
              <a href={href} class="text-lg font-medium hover:underline">{title}</a>
              {cat && (
                <span class="ml-2 text-xs px-2 py-0.5 rounded-full bg-gray-100 text-gray-600 align-middle">
                  {cat}
                </span>
              )}
              {prettyGuideDate && (
                <span class="ml-2 text-xs text-gray-500 align-middle">
                  {dateLabel} {prettyGuideDate}
                </span>
              )}
              {desc && <p class="text-sm text-gray-600 mt-1">{desc}</p>}
            </li>
          );
        })}
      </ul>
    )}

    <!-- Browse all guides CTA -->
    <p class="mt-6">
      <a href="/guides/" class="inline-block px-3 py-2 rounded-lg border hover:bg-gray-50">
        Browse all guides →
      </a>
    </p>
  </section>
